{% extends "layouts/base.html" %}

{% block title %}Register | TST{% endblock %}

{% block content %}
<section class="section">
    <div class="container">
        <div class="grid" style="grid-template-columns: 1fr; max-width: 800px; margin: 0 auto; gap: var(--space-xl);">

            <!-- Register Card -->
            <div class="card">
                <div class="text-center mb-lg">
                    <div class="mb-md">
                        <i class="bi bi-person-plus-fill text-brand" style="font-size: 3rem;"></i>
                    </div>
                    <h2 class="h2 mb-sm">Create Account</h2>
                    <p class="text-secondary">Join us to unlock professional features</p>
                </div>

                <!-- Flash Messages -->
                {% with messages = get_flashed_messages(with_categories=true) %}
                {% if messages %}
                {% for category, message in messages %}
                <div class="mb-md p-md radius-md"
                    style="background: {% if category == 'error' %}rgba(239, 68, 68, 0.1){% else %}rgba(34, 197, 94, 0.1){% endif %}; border: 1px solid {% if category == 'error' %}var(--color-danger){% else %}var(--color-success){% endif %}; color: {% if category == 'error' %}var(--color-danger){% else %}var(--color-success){% endif %};">
                    {{ message }}
                </div>
                {% endfor %}
                {% endif %}
                {% endwith %}

                <form method="POST">
                    {{ form.hidden_tag() }}

                    <div class="grid grid-cols-2 gap-lg mb-lg">
                        <div>
                            {{ form.username.label(class="text-secondary mb-xs block") }}
                            {{ form.username(class="input" + (" border-danger" if form.username.errors else "")) }}
                            {% if form.username.errors %}
                            <div class="text-down text-sm mt-xs">
                                {% for error in form.username.errors %}{{ error }}{% endfor %}
                            </div>
                            {% endif %}
                        </div>

                        <div>
                            {{ form.email.label(class="text-secondary mb-xs block") }}
                            {{ form.email(class="input" + (" border-danger" if form.email.errors else "")) }}
                            {% if form.email.errors %}
                            <div class="text-down text-sm mt-xs">
                                {% for error in form.email.errors %}{{ error }}{% endfor %}
                            </div>
                            {% endif %}
                        </div>
                    </div>

                    <div class="grid grid-cols-2 gap-lg mb-lg">
                        <div>
                            {{ form.full_name.label(class="text-secondary mb-xs block") }}
                            {{ form.full_name(class="input", placeholder="Optional") }}
                        </div>

                        <div>
                            {{ form.phone.label(class="text-secondary mb-xs block") }}
                            {{ form.phone(class="input", placeholder="Optional") }}
                        </div>
                    </div>

                    <div class="grid grid-cols-2 gap-lg mb-xl">
                        <div>
                            {{ form.password.label(class="text-secondary mb-xs block") }}
                            {{ form.password(class="input" + (" border-danger" if form.password.errors else "")) }}
                            {% if form.password.errors %}
                            <div class="text-down text-sm mt-xs">
                                {% for error in form.password.errors %}{{ error }}{% endfor %}
                            </div>
                            {% endif %}
                        </div>

                        <div>
                            {{ form.password2.label(class="text-secondary mb-xs block") }}
                            {{ form.password2(class="input" + (" border-danger" if form.password2.errors else "")) }}
                            {% if form.password2.errors %}
                            <div class="text-down text-sm mt-xs">
                                {% for error in form.password2.errors %}{{ error }}{% endfor %}
                            </div>
                            {% endif %}
                        </div>
                    </div>

                    {{ form.submit(class="btn btn-primary w-full mb-lg") }}
                </form>

                <div class="text-center">
                    <p class="text-secondary mb-0">
                        Already have an account?
                        <a href="{{ url_for('login') }}" class="text-brand hover:text-white">Login Now</a>
                    </p>
                </div>
            </div>

            <!-- Membership Levels -->
            <div class="card bg-surface">
                <h6 class="text-center text-brand mb-lg font-mono uppercase tracking-wide">
                    <i class="bi bi-award-fill me-sm"></i>Membership Levels
                </h6>
                <div class="grid grid-cols-3 gap-md text-center">
                    <div class="p-md radius-md" style="background: rgba(255,255,255,0.03);">
                        <i class="bi bi-person-badge text-secondary mb-sm block text-xl"></i>
                        <h6 class="text-white mb-sm">Free</h6>
                        <ul class="text-secondary text-sm text-left" style="list-style: none; padding: 0;">
                            <li class="mb-xs"><i class="bi bi-check text-success me-xs"></i>Basic Info</li>
                            <li class="mb-xs"><i class="bi bi-check text-success me-xs"></i>10 Watchlist</li>
                            <li class="mb-xs"><i class="bi bi-check text-success me-xs"></i>7D History</li>
                        </ul>
                    </div>
                    <div class="p-md radius-md"
                        style="background: rgba(0, 229, 255, 0.05); border: 1px solid var(--color-brand-primary);">
                        <i class="bi bi-person-badge-fill text-brand mb-sm block text-xl"></i>
                        <h6 class="text-brand mb-sm">Pro</h6>
                        <ul class="text-secondary text-sm text-left" style="list-style: none; padding: 0;">
                            <li class="mb-xs"><i class="bi bi-check text-success me-xs"></i>Advanced</li>
                            <li class="mb-xs"><i class="bi bi-check text-success me-xs"></i>100 Watchlist</li>
                            <li class="mb-xs"><i class="bi bi-check text-success me-xs"></i>Alerts</li>
                        </ul>
                    </div>
                    <div class="p-md radius-md"
                        style="background: rgba(255, 152, 0, 0.05); border: 1px solid var(--color-brand-accent);">
                        <i class="bi bi-award-fill text-warning mb-sm block text-xl"></i>
                        <h6 class="text-warning mb-sm">VIP</h6>
                        <ul class="text-secondary text-sm text-left" style="list-style: none; padding: 0;">
                            <li class="mb-xs"><i class="bi bi-check text-success me-xs"></i>API Access</li>
                            <li class="mb-xs"><i class="bi bi-check text-success me-xs"></i>Unlimited</li>
                            <li class="mb-xs"><i class="bi bi-check text-success me-xs"></i>Priority</li>
                        </ul>
                    </div>
                </div>
            </div>

        </div>
    </div>
</section>
{% endblock %}